#summary How to install and run mail-trends
#labels Phase-Deploy,Featured

=Requirements=

  * A Gmail or Google Apps mail account
  * Python 2.5 or later

=Installation=

[http://mail-trends.googlecode.com/files/mail-trends-20080326.tar.gz Download] a stable snapshot of the code. Alternatively, if you'd like to get the latest code from Subversion, you can do this with:

{{{svn checkout http://mail-trends.googlecode.com/svn/trunk/ mail-trends}}}

You will also need [http://www.cheetahtemplate.org/ Cheetah] (a template system) installed. You can [http://downloads.sourceforge.net/cheetahtemplate/Cheetah-2.0.1.tar.gz?modtime=1195209699&big_mirror=0 download] it and then follow the [http://www.cheetahtemplate.org/docs/users_guide_html_multipage/gettingStarted.install.html installation instructions] (or you are using an apt-based Linux distribution {{{sudo apt-get install
python-cheetah}}} may be enough for you).

=Running=

Go into the {{{mail-trends}}} directory:

{{{cd mail-trends}}}

Run the program, replacing the username and passwords as appropriate (if you omit the password in the commandline you will be (securely) prompted for it):

{{{
python main.py \
  --server=imap.gmail.com \
  --use_ssl \
  --username=username@gmail.com \
  --me=username@gmail.com,username@somedomain.com \
  --skip_labels
}}}

You will be prompted for the password for your account (you can also use {{{--password=}}} to specify it as an argument. The {{{--me}}} argument lets you specify what emails should be considered as being sent to/from you.

The output is in HTML, placed in {{{out/index.html}}}. Open that in your favorite web browser.

=Other options=

{{{--skip_labels}}} does not categorize messages into labels (there are not stats that use them yet).

{{{--filter_out=...}}} can be used to ignore certain messages. You can use {{{to:username@example.com}}}, {{{from:username@example.com}}} or {{{list:listid.example.com}}} to filter out by recipient, sender or list (you can have multiple filter clauses by separating them with commas).

You can pass in {{{--record}}} and {{{--replay}}} as command line arguments to respectively capture and play black message fetches from the IMAP server. This is meant to aid in development by speeding up data fetches.

{{{--max_messages=NNNN}}} can be used to limit the number of messages that are fetched. Normally the most recent messages are selected, use {{{--random_subset}}} to specify that the messages be chosen over all the messages.